https://jackal.su
Игра Шакал

Структура проекта


    server.js - сервер на ноде js для работы игры
        Игра использует два порта 3000 - для html и 3001 для вебсокетов,
        Через веб сокеты организована оснавная логика игры и чат.   
        Вычисления ходов на сервере не производится, а на каждом клиенте отдельно, сообщения от инициатора хода передаются всем участникам. 
        Не очень удачное решение для многих игроков. Перенести в будущем на сервер. Клиентам отправлять или всю карту или только изменения. Можно будет сделать бота для игры
        
        Каждому клиент посылается сообщение о текущем ходе. 

    lib/
        Полезные функции 

    public - код клиента игры (js - создается из файлов ts в src), 
    data/
        users.json - База игроков
        games.json - Игры
        games/ID - записи ходов (steps.log) и записи сгенерированных игровых полей (deck.json)

    src/ts - исходный код клиентской части
        game.ts - основной файл игры
            Game - класс с игроым полем 
    
        cards - классы с реализацией поведения различных игровых карт
        components - карты и элементы интерфейса
        game - взаимодействие с сервером

Todo
    Нужно сделать авторизацию пользователей.
        Игрок при авторизации выбирает игру к которой может присоедениться, показывает все игры где указан игрок

    Отдельно интерфейс для администратора. 
        Возможность Создать игру и указать количество игроков и кто кем играет (человек или бот). Сейчас игра создается при запуске скрипта или выбирается.
        Скрипт для инициализации игры game.js
            
        Из списка выбирается игрок для каждой стороны.

        Возможность послать системное сообщение. Посмотреть историю и перемотать шаги
        

    +1. Тип карты - количество. Создать с изображенями. Перемешать. 
    +2. Сделать возможность переворачивать при наведении или нажатии.
    +3. Фигры для пиратов и возможность ходить на соседне поле
    ?4. Ход с учетом свойств клетки
    +5. Возможность взять и положить монету
    +6. Ход с учетом монет у пирата

    +7. Сделать передвижение кораблей. 
    +8. Возможность либо начать игру либо присоедениться как игрок к другой игре по определенной ссылке 
    +9. При соединении создавать одинаковое поле с игрой для обоих участников (на сервере)
    +10. При переходе на корабль с золотом сразу сбрасывать его.
    +11.     Блокировать кнопки событий если не ход игрока
    +12. Сообщении о переключении на корабль или другого пирата    
    +13. Инициализация поворота на сервере
    +14. Событие на взятие и опускание монеты
    +15. Вышибание пирата соперника на корабль.
    +16. Нельзя ходить с монеткой на закрытую клетку.
    +17. На корабль можно вернуться только с соседней клетки (по диагонали).
    +18. Нельзя ходить на туже клетку если это не спесиальная клетка

    +19. Воскрешение пирата
    +20. При проходе по люду повторять направление движения или ход с самолета или коня

    +21. Выход с союзного корабля

    22. При автоматическом ходе с монеткой на неоткрытую клетку монету оставлять на первом ходу
        var i = lastPos.length - 1; при ходе с монеткой со стрелки

    23. Кнопку пропустить ход
    24. Если активный ход пирата то не давать ходить другому
    +25. Если умираешь то пропускаешь ход
    26. Самолет только один раз
    +27. При выбивании не сбрасываются ходы ром, вертушки, яма
    28. При переходе на клетку сразу ложить ее
    +29. Кнопка закончить игру (flipall)

    +30. При смерти на клетке людоеда ход переходит 2 раза
    +31. Проверить возможость ходить в крепость если она занята

    32. Если никто из пиратов двигаться не может то пропускать ход
    33. Сделать списко имен при инициализации игры и для кадого сгенерировать уникальный идентификатор 


Заметки
    Эффект переворачивания карт
    https://desandro.github.io/3dtransforms/docs/card-flip.html